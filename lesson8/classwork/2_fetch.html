<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
</head>
<body>
  
</body>
</html>
<script>

fetch('https://jsonplaceholder.typicode.com/users')  //запит
  .then(response => response.json() )// фомування відповіді в json форматі
  .then(item => item[getRandom (item.length-1)] )
  .then((item) => {
    console.log("Randon user ID: " + item.id);
    fetch(`https://jsonplaceholder.typicode.com/posts?id=${item.id}`)
    .then(res => {
      return res.json()
    })
    .then(posts => {
      console.log(posts);
    })
  })
    

function getRandom (length) {
  return Math.round(Math.random() * (length - 0) + 0);
}
/*
Завдання:

  1. За допомогою fetch отримати дані:
     https://jsonplaceholder.typicode.com/users

  2. Отриману відповідь перетворити на json викликавши метод .json з об'єкта відповіді
  3. Вибрати випадкову людину і передати до наступного чейну промісу
  4. Зробити додатковий запит на отримання списку постів людини
     https://jsonplaceholder.typicode.com/posts
     І далі передати об'єкт:
      {
        name: userName,
        ...
        friends: friendsData
      }

     Підказка потрібно викликати додатковий fecth з поточного чейну.
     Для того щоб передати результат виконання дод. запиту
     у наш перший проміс використовуйте констуркцію:

      .then(
        response1 => {
          return fetch(...)
            .then(
              response2 => {
                ...
                формуєте об'єкт у якому будуть дані людини з
                 першого запиту, наприклад, його name response1.name
                 та друзі які прийшли з дод. запиту
              }
            )
        }
      )

    5. Вивести результат на сторінку

   + Бонус. Для конвертації об'єкта response в json використовувати одну
     функцію.

*/


  // fetch(url)
  //   .then(testFunc)
  //   .then(test2Func)
  //   .then( res => {
  //      return fetch()
  //       .then( friendsResponse)
  //       .then()
  //   })
  //   .then( func)
  </script>